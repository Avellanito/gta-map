<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      html, body { height: 100%; margin: 0; padding: 0; }
      #map { height: 100%; width: 100%; }
    </style>
    <title>Mi mapa estilo GTA</title>
  </head>
  <body>
    <div style="position:absolute; z-index:5; width:100%; padding:10px;">
  <input id="destino" type="text" placeholder="Escribe tu destino"
    style="width:70%; padding:10px; font-size:16px;">
  <button onclick="calcularRuta()"
    style="padding:10px; font-size:16px;">Ir</button>
</div>

    <div id="map"></div>

   <script>
  let map;
  let directionsService;
  let directionsRenderer;

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      center: { lat: 40.4168, lng: -3.7038 },
      zoom: 13,
      mapId: "818f2355ad2d42eff8904298"
    });

    directionsService = new google.maps.DirectionsService();
    directionsRenderer = new google.maps.DirectionsRenderer({
      map: map
    });
  }

  function calcularRuta() {
    const destino = document.getElementById("destino").value;

    navigator.geolocation.getCurrentPosition(position => {
      const origen = {
        lat: position.coords.latitude,
        lng: position.coords.longitude
      };

      directionsService.route({
        origin: origen,
        destination: destino,
        travelMode: google.maps.TravelMode.DRIVING
      }).then(response => {
        directionsRenderer.setDirections(response);
      });
    });
  }

  window.initMap = initMap;
</script>

  </body>

</html>





